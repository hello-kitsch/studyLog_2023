# 1. 중첩 클래스
- OOP 상에서는 클래스 간에 서로 긴밀한 관계를 맺고 상호작용. 
  - 클래스가 여러 클래스와 관계를 맺는 경우 -> 독립적으로 선언
  - 특정 클래스하고만 관계를 맺는 경우 -> 중첩 클래스 선언
- 중첩 클래스(Nested Class): 클래스 내부에 선언한 클래스
  - 클래스의 멤버를 쉽게 사용 가능
  - 외부에는 중첩 관계 클래스를 감춤 -> 코드의 복잡성을 줄일 수 있음.
- 중첩 클래스의 선언 위치에 따른 분류
  - 멤버 클래스
    - 인스턴스 멤버 클래스: `class A { class B { ... } }`, A객체를 생성해야만 B객체를 생성할 수 있음.
    - 정적 멤버 클래스: `class A { static class B { ... } }`, A객체를 생성하지 않아도 B객체를 생성할 수 있음.
  - 로컬 클래스: `class A { void method() { class B { ... } } }`, method가 실행할 때만 B객체를 생성할 수 있음.
- 중첩 클래스 또한 하나의 클래스 -> 컴파일시 바이트코드 파일이 별도로 생성됨.
  - 멤버 클래스: `A $ B .class`
  - 로컬 클래스: `A $1 B .class`
# 2. 인스턴스 멤버 클래스
```java
[public] class A {
    [public|private] class B {
        //인스턴스 멤버 클래스의 내부
    }
}
```
- 접근 제한자에 따른 인스턴스 멤버 클래스의 접근 범위
  - public class B {}: 다른 패키지에서 B클래스를 사용할 수 있음.
  - class B {}: 같은 패키지에서만 B클래스를 사용할 수 있음.
  - private class B {}: A클래스 내부에서만 B클래스를 사용할 수 있음.(일반적)
    - A클래스 내부 어디에서나 생성할 수는 없음
    - 인스턴스 필드값, 생성자, 인스턴스 메소드에서 생성 가능
- 인스턴스 멤버 클래스 B 내부에는 필드, 생성자, 메소드 선언이 올 수 있음(일반클래스와 같이)
  - 정적 필드, 정적 메소드는 Java 17부터 선언이 가능.
# 3. 정적 멤버 클래스
```java
[public] class A {
    [public|private] static class B {
    }
}
```
- 접근 제한자에 따른 정적 멤버 클래스의 접근 범위
  - public static class B {}: 다른 패키지에서 B클래스를 사용할 수 있음.
  - static class B {}: 같은 패키지에서만 B클래스를 사용할 수 있음.
  - private static class B {}: A클래스 내부에서만 B클래스를 사용할 수 있음.
- 정적 멤버 클래스 B는 A클래스 내부에서 사용되기도 하지만(private), 주로 외부에서 A와 함께 사용(default, public)
- 정적 멤버 클래스 B 내부에는 필드, 생성자, 메소드 선언이 올 수 있음.(일반 클래스와 같이)
# 4. 로컬 클래스
- 로컬 클래스: 생성자 또는 메소드 내부에서 선언된 클래스
```java
[public] class A {
    public A() {
        class B { }
    }
    public void method() {
        class B { }
    }
}
```
- 로컬 변수(생성자/메소드의 매개변수, 내부에서 선언된 변수)를 로컬 클래스에서 사용할 경우, 로컬 변수는 final 특성을 갖게됨->값을 읽기만 허용, 수정 불가(로컬 클래스 내부에서 값을 변경하지 못하도록 제한)  
  - Java 8 이후부터 명시적으로 final 키워드를 붙이지 않아도 됨(로컬 변수에 final 키워드를 추가하여 명시적으로 표현 가능)  
> - 로컬 클래스는 
>   1. Enclosing class 멤버에 접근가능 (로컬 클래스의 멤버를 Enclosing class의 멤버와 같은 이름으로 선언시 덮어씀.)
>   2. 메소드 내부에 로컬 클래스가 선언된 경우, 메소드의 매개변수에도 접근 가능
>   3. 로컬변수가 final로 선언된 경우(자바8부터는 유사 final 로컬변수 또한 포함) 로컬변수에 접근 가능
> - 로컬 클래스와 내부 클래스(아마도 인스턴스 멤버클래스를 의미하는 듯?) 모두 정적인 멤버를 정의/선언할 수 없음.
>   - static 키워드가 붙었어도 상수를 표현하기 위한 경우라면 예외적으로 static 멤버를 가질 수 있음(ex.`public static final String exceptionStaticMember = "hahaha";`) 
# 5. 바깥 멤버 접근
- 중첩 클래스는 바깥 클래스(Enclosing class)와 긴밀한 관계를 맺으며 바깥 클래스의 멤버(필드, 메소드)에 접근 가능
- 중첩 클래스가 어떻게 선언되었느냐에 따라 접근 제한이 있을 수 있음.
## 바깥 클래스의 멤버 접근 제한
- 인스턴스 멤버 클래스: 바깥 클래스의 모든 필드와 메소드
- 정적 멤버 클래스: 바깥 클래스의 정적 필드와 정적 메소드
## 바깥 클래스의 객체 접근
- 중첩 클래스 내부에서 this는 해당 중첩 클래스의 객체
- 중첩 클래스 내부에서 바깥 클래스의 객체를 얻고자할때는 `바깥클래스이름.this`를 쓰면 바깥객체를 가리킬 수 있음.
# 6. 중첩 인터페이스
- 중첩 인터페이스: 클래스의 멤버로 선언된 인터페이스
  - 이유: 해당 클래스와 긴밀한 관계를 맺는 구현 객체를 만들기 위해서
```java
class A {
    [public|private] [static] interface B {
      //상수 필드
      //추상 메소드
      //디폴트 메소드
      //정적 메소드
    }
}
```
- 외부의 접근을 막지 않으려면 public, 
- A 클래스 내부에서만 사용하려면 private을 붙임, 
- 접근 제한자를 붙이지 않으면 같은 패키지 안에서만 접근이 가능.
- static: A 객체 없이 B 인터페이스를 사용할 수 있도록 함
- 중첩 인터페이스는 UI 프로그램에서 이벤트를 처리할 목적으로 많이 활용됨. (버튼을 클릭했을 때 이벤트를 처리할 객체->중첩 인터페이스를 구현해서 만듦)
# 7. 익명 객체
- 익명 객체: 이름 없는 객체. 명시적으로 클래스를 선언하지 않기 때문에 쉽게 객체 생성이 가능.
  - 필드값, 로컬 변수값, 매개변수값으로 주로 사용됨.
  - 익명 객체는 클래스를 상속(익명 자식 객체)하거나 인터페이스를 구현(익명 구현 객체)해야만 생성 가능
## 익명 자식 객체
- 익명 자식 객체는 부모 클래스를 상속받아 생성됨 -> 부모 타입의 필드, 로컬 변수, 매개변수의 값으로 대입 가능
```java
new 부모생성자(매개값, ...) {
    //필드
    //메소드
}
```
- 중괄호 블록 안의 필드와 메소드 
  - 익명 자식 객체가 가져야할 멤버
  - **중괄호 블록 안에서만 사용 가능(익명 자식 객체는 부모 타입에 대입됨->부모 타입에 선언된 멤버만 접근 가능)**
  - 주로 부모 메소드를 재정의하는 코드를 작성
## 익명 구현 객체
- 익명 구현 객체는 인터페이스를 구현해서 생성 -> 인터페이스 타입의 필드, 로컬변수, 매개변수의 값으로 대입 가능.
  - UI 프로그램에서 이벤트를 처리하는 객체로 많이 사용됨.
```java
new 인터페이스() {
    //필드
    //메소드
}
```
- 중갈호 블록 안의 필드와 메소드
  - 익명 구현 객체가 가져야 할 멤버
  - **중괄호 블록 안에서만 사용 가능(익명 구현 객체는 인터페이스 타입에 대입->인터페이스 타입에 선언된 멤버만 접근 가능)**
  - 중괄호 블록 안에는 주로 인터페이스의 추상 메소드를 재정의하는 코드를 작성.